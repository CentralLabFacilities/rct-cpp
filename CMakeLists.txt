cmake_minimum_required(VERSION 2.8)
INCLUDE(FindPkgConfig)
INCLUDE(UsePkgConfig)

# --- general project setup ---
PROJECT("RoboticsCoordinateTransform")
SET(RCT_NAME rct)
SET(RCT_VERSION_MAJOR "1")
SET(RCT_VERSION_MINOR "0")
SET(RCT_VERSION_REVISION "0")
SET(RCT_VERSION_SHORT "${RCT_VERSION_MAJOR}.${RCT_VERSION_MINOR}")
SET(RCT_VERSION "${RCT_VERSION_MAJOR}.${RCT_VERSION_MINOR}.${RCT_VERSION_REVISION}")

SET(PREFIX ${CMAKE_INSTALL_PREFIX})
SET(BINDIR "${PREFIX}/bin")
SET(INCLUDEDIR "${PREFIX}/include")
SET(MANDIR "${PREFIX}/man")
SET(LIBDIR "${PREFIX}/lib/")
SET(DATADIR "${PREFIX}/share/${PACKET}")

SET(CMAKE_INSTALL_RPATH_USE_LINK_PATH TRUE)
SET(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${PROJECT_BINARY_DIR}/bin)
SET(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${PROJECT_BINARY_DIR}/lib)

# --- dependencies ---

list(APPEND CMAKE_MODULE_PATH ${CMAKE_CURRENT_SOURCE_DIR}/cmake/Modules)

FIND_PACKAGE(Eigen3 REQUIRED)
INCLUDE_DIRECTORIES(BEFORE SYSTEM  ${Eigen3_INCLUDE_DIRS})
LINK_DIRECTORIES(${Eigen3_LIBRARY_DIRS})

#rsc
FIND_PACKAGE(RSC 0.11)
INCLUDE_DIRECTORIES(BEFORE SYSTEM  ${RSC_INCLUDE_DIRS})
LINK_DIRECTORIES(${RSC_LIBRARY_DIRS})

#rsb
FIND_PACKAGE(RSB 0.11)
INCLUDE_DIRECTORIES(BEFORE SYSTEM  ${RSB_INCLUDE_DIRS})
LINK_DIRECTORIES(${RSB_LIBRARY_DIRS})

FIND_PACKAGE(RST 0.11)
INCLUDE_DIRECTORIES(BEFORE SYSTEM ${RST_INCLUDE_DIRS})
ADD_DEFINITIONS(${RST_CFLAGS})

#boost
FIND_PACKAGE(Boost REQUIRED COMPONENTS thread program_options)
INCLUDE_DIRECTORIES(Boost_INCLUDE_DIRS)
ADD_DEFINITIONS(-DBOOST_LOG_DYN_LINK)
MESSAGE(STATUS "Boost_LIBRARIES: ${Boost_LIBRARIES}")

# --- build instructions ---
ADD_SUBDIRECTORY(core/src)
